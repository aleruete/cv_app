---
output:
  vitae::awesomecv
params:
  cv_name: "Javier" 
  cv_surname: "Elio"
  data_path: "cv_data.xlsx"
  summary_long: TRUE
  education_long: TRUE
  employment_long: TRUE
  inv_position_long: TRUE
  membership_long: TRUE
  service_long: TRUE
  project_long: TRUE
  award_long: TRUE
  teaching_long: TRUE
  supervision_long: TRUE
  ext_sensor_long: TRUE
  article_long: TRUE
  book_long: TRUE
  key_1: NULL
  key_2: NULL
  key_3: NULL
  address: "Haugesund (Norway)"
  phone: "+47 4125 91 17"
  email: "javiereliomedina@gmail.com"
  website: "https://javierelio.netlify.app/"
  github: "javiereliomedina"
  linkedin: "javiereliomedina"
  twitter: "Elio_Javi"
     
name: "`r params$cv_name`" 
surname: "`r params$cv_surname`"
date: "`r format(Sys.time(), '%B, %Y')`"
position: "`r params$key_1` | `r params$key_2` | `r params$key_3`"
address: "`r params$address`"
phone: "`r params$phone`"
email: "`r params$email`"
website: "`r params$website`"
github: "`r params$github`"
linkedin: "`r params$linkedin`"
twitter: "`r params$twitter`"

header-includes:
  - \usepackage{colortbl}
  - \usepackage{longtable}
  - \usepackage{float}
  - \arrayrulecolor{white}
  - \definecolor{darktext}{HTML}{414141}
  - \definecolor{blue}{rgb}{0.0, 0.0, 1.0}
  
---

```{r setup, include = FALSE}

knitr::opts_chunk$set(
  results = 'asis', 
  echo = FALSE,
  message = FALSE, 
  warning = FALSE
)

library(tidyverse)
library(readxl)
library(knitr)
library(kableExtra)

source("cv_long_printing_functions.r")

# Read data (from csv)
data_path <- params$data_path
cv <- create_cv_object(data_path)
cv_name <- params$cv_name
cv_surname <- params$cv_surname

# # Print sections if TRUE
eval_text <- params$summary_long
eval_edu  <- params$education_long 
eval_emp  <- params$employment_long
eval_inv  <- params$inv_position_long
eval_mem  <- params$membership_long
eval_ser  <- params$service_long
eval_pro  <- params$project_long
eval_awa  <- params$award_long
eval_tea  <- params$teaching_long
eval_sup  <- params$supervision_long
eval_ext  <- params$ext_sensor_long
eval_art  <- params$article_long
eval_boo  <- params$book_long

# Short sentence with expertise
research_text <- "My research interests are:"

```

\vspace{0.5cm}
\footnotesize 
\rightline{\textcolor{darktext}{\textit{`r pull(filter(cv$text_blocks, loc == "short_description"), text)`}}}
\normalsize

\vspace{0.5cm}

```{r text-block-1, eval = eval_text}
cat("# Career Summary\n")

cv %>% print_text_block("intro")
```

```{r text-block-2, eval = eval_text}
cat("My research interests are:")
```

```{r text-block-3, eval = eval_text}
cv %>% print_reserch_intrerest()
```
```{r education, eval = eval_edu}
cat("\n# Education\n")

cv %>% print_section("education")

cat("\\vspace{-1cm}")
```

```{r experience, eval=eval_emp}
cat("\n# Experience\n")

cv %>% print_section("employment")

cat("\\vspace{-1cm}")
```

```{r inv_positions, eval = eval_inv}
cat("\n# Invited positions\n")

cv %>% print_section("inv_position")

cat("\\vspace{-1cm}")
```

```{r memberships, eval=eval_mem}
cat("\n# Professional memberships\n")

cv %>% print_section("membership")

cat("\\vspace{-1cm}")
```

```{r Services, eval=eval_ser}
cat("\n# Professional services\n")

cv %>% print_section("service")

cat("\\vspace{-1cm}")
```

```{r funding, eval = eval_pro}
cat("\n# Funding projects\n")

cv %>% print_section("project")

cat("\\vspace{-1cm}")
```

```{r awards, eval=eval_awa}
cat("\n# Honours and awards\n")

cv %>% print_section("award")

cat("\\vspace{-1cm}")
```

```{r tra-heading, eval = eval_tea | eval_sup | eval_ext}
cat("# Training and teaching experience")
```

```{r lectures, eval=eval_tea}
cat("\n## Lectures/Seminars\n")

cv %>% print_section("teaching")

cat("\\vspace{-0.5cm}")
```

```{r supervision, eval = eval_sup}
cat("\n## Supervision\n")

cv %>% print_section("supervision")

cat("\\vspace{-0.5cm}")
```

```{r ext-sensor, eval=eval_ext}
cat("\n## External sensor\n")

cv %>% print_section("ext_sensor")

cat("\\vspace{-0.5cm}")
```

```{r pub-heading, eval = eval_art | eval_boo}
cat("# Publications")
```

```{r articles, eval = eval_art}
cat("\n## Peer reviewed articles\n")

cv %>% print_publications("article", cv_surname)

cat("\\vspace{-0.5cm}")
```

```{r books, eval=eval_boo}
cat("\n## Books and book chapters\n")

cv %>% print_publications("book", cv_surname)

cat("\\vspace{-0.5cm}")
```
